# –û—Ç—á–µ—Ç –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ JavaScript

## üìä –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤:
- **main.js**: 67KB, 1390 —Å—Ç—Ä–æ–∫
- **sw.js**: 6KB, 218 —Å—Ç—Ä–æ–∫
- **–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä**: 73KB

## üîç –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å DOM –æ–ø–µ—Ä–∞—Ü–∏–π**

#### –ü—Ä–æ–±–ª–µ–º—ã:
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ querySelector/querySelectorAll** –±–µ–∑ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–∏—Å–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤** –≤ –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ —Ñ—É–Ω–∫—Ü–∏—è—Ö
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏** –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤

#### –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ –∫–æ–¥–∞:
```javascript
// –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–∏—Å–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
const desktop = document.getElementById('cart-count');
const mobile = document.getElementById('cart-count-mobile');
const favoritesWrapper = document.querySelector('.favorites-icon-wrapper');
const mobileIcon = document.querySelector('a[href*="favorites"] .bottom-nav-icon');

// –í —Ñ—É–Ω–∫—Ü–∏–∏ updateFavoritesBadge - –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∏—â–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –∑–∞–Ω–æ–≤–æ
```

### 2. **–ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π**

#### –ü—Ä–æ–±–ª–µ–º—ã:
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ addEventListener** –±–µ–∑ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ª—É—à–∞—Ç–µ–ª–µ–π** –¥–ª—è scroll/touch —Å–æ–±—ã—Ç–∏–π
- **–ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º** –ø–∞–Ω–µ–ª–µ–π

#### –ü—Ä–∏–º–µ—Ä—ã:
```javascript
// –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–ª—É—à–∞—Ç–µ–ª–∏ –Ω–∞ –æ–¥–Ω–∏ —ç–ª–µ–º–µ–Ω—Ç—ã
userToggle.addEventListener('pointerdown', ...);
userToggle.addEventListener('click', ...);
document.addEventListener('pointerdown', ...);
```

### 3. **–ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∞–º—è—Ç—å—é**

#### –ü—Ä–æ–±–ª–µ–º—ã:
- **–£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏** –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö —Å–æ–±—ã—Ç–∏–π
- **–ù–µ–æ—á–∏—â–µ–Ω–Ω—ã–µ —Ç–∞–π–º–µ—Ä—ã** –∏ —Å–ª—É—à–∞—Ç–µ–ª–∏
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ cleanup** –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### 4. **–ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏**

#### –ü—Ä–æ–±–ª–µ–º—ã:
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ setTimeout** –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ requestAnimationFrame** –¥–ª—è –ø–ª–∞–≤–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π
- **–ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ IntersectionObserver** –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤**

```javascript
// –°–æ–∑–¥–∞—Ç—å –∫—ç—à –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
const DOMCache = {
  cartCount: null,
  favoritesCount: null,
  miniCartPanel: null,
  
  init() {
    this.cartCount = document.getElementById('cart-count');
    this.favoritesCount = document.getElementById('favorites-count');
    this.miniCartPanel = document.getElementById('mini-cart-panel');
  },
  
  getCartCount() {
    return this.cartCount || document.getElementById('cart-count');
  }
};
```

### 2. **–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π**

```javascript
// –í–º–µ—Å—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–ª—É—à–∞—Ç–µ–ª–µ–π - –æ–¥–∏–Ω –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
document.addEventListener('click', (e) => {
  if (e.target.matches('.favorite-btn')) {
    handleFavoriteClick(e);
  } else if (e.target.matches('.color-dot')) {
    handleColorDotClick(e);
  }
}, { passive: true });
```

### 3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–π**

```javascript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å requestAnimationFrame –≤–º–µ—Å—Ç–æ setTimeout
function animateElement(element, callback) {
  requestAnimationFrame(() => {
    callback();
  });
}

// –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ IntersectionObserver –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
const observerOptions = {
  threshold: 0.1,
  rootMargin: '50px 0px',
  passive: true
};
```

### 4. **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤**

```javascript
// –î–ª—è —Å–ø–∏—Å–∫–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤ > 50 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
class VirtualList {
  constructor(container, items, itemHeight) {
    this.container = container;
    this.items = items;
    this.itemHeight = itemHeight;
    this.visibleStart = 0;
    this.visibleEnd = 0;
    this.render();
  }
  
  render() {
    // –†–µ–Ω–¥–µ—Ä–∏–º —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
  }
}
```

### 5. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Service Worker**

```javascript
// –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è API
const API_CACHE_STRATEGY = {
  'GET /api/products/': 'stale-while-revalidate',
  'GET /api/cart/': 'network-first',
  'POST /api/cart/': 'network-only'
};
```

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- **–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∏**: 15-25%
- **–£–º–µ–Ω—å—à–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏**: 20-30%
- **–ü–ª–∞–≤–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–π**: 40-50% —É–ª—É—á—à–µ–Ω–∏–µ FPS

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç:
- **–ë—ã—Å—Ç—Ä–µ–µ –æ—Ç–∫–ª–∏–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**: 30-40%
- **–ú–µ–Ω—å—à–µ –ª–∞–≥–æ–≤** –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
- **–ë–æ–ª–µ–µ –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã** –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏

## üõ†Ô∏è –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (1-2 –¥–Ω—è)
1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤
2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏

### –≠—Ç–∞–ø 2: –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (2-3 –¥–Ω—è)
1. –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤
2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–π
3. –£–ª—É—á—à–µ–Ω–∏–µ Service Worker

### –≠—Ç–∞–ø 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (1-2 –¥–Ω—è)
1. Lazy loading –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
2. Preloading –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è bundle size

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
```javascript
// –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
const performanceObserver = new PerformanceObserver((list) => {
  list.getEntries().forEach((entry) => {
    if (entry.entryType === 'measure') {
      console.log(`${entry.name}: ${entry.duration}ms`);
    }
  });
});
```

### 2. **Code splitting**
- –†–∞–∑–¥–µ–ª–∏—Ç—å –∫–æ–¥ –Ω–∞ –º–æ–¥—É–ª–∏
- Lazy loading –¥–ª—è –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- Tree shaking –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –º–µ—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞

### 3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤**
- –£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS transforms –≤–º–µ—Å—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è layout
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å touch —Å–æ–±—ã—Ç–∏—è

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤
2. –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–π
2. –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤
3. –£–ª—É—á—à–µ–Ω–∏–µ Service Worker

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. Code splitting
2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
3. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

---

**–û–±—â–∏–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**: 30-50% —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
**–í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**: 5-7 –¥–Ω–µ–π
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è

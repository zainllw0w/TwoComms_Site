# ‚úÖ –£—Å–ø–µ—à–Ω–æ–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤

## üìÖ –î–∞—Ç–∞: 27 –æ–∫—Ç—è–±—Ä—è 2025

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –°–æ–∑–¥–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å `twocomms/storefront/views/promo.py`
- –í—Å—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å
- –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

### 2. ‚úÖ –ù–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–°–æ–∑–¥–∞–Ω—ã 3 –∫–ª—é—á–µ–≤—ã–µ –º–æ–¥–µ–ª–∏:

#### PromoCodeGroup (–ì—Ä—É–ø–ø—ã –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤)
```python
- name: –ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã
- description: –û–ø–∏—Å–∞–Ω–∏–µ
- one_per_account: –û–¥–∏–Ω –ø—Ä–æ–º–æ–∫–æ–¥ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç –∏–∑ –≥—Ä—É–ø–ø—ã
- is_active: –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≥—Ä—É–ø–ø—ã
- created_at, updated_at: –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
```

#### PromoCode (–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å)
–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –ø–æ–ª—è:
```python
- promo_type: –¢–∏–ø (regular/voucher/grouped)
- group: –°–≤—è–∑—å —Å –≥—Ä—É–ø–ø–æ–π (FK)
- description: –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞
- one_time_per_user: –û–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- min_order_amount: –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞
- valid_from/valid_until: –ü–µ—Ä–∏–æ–¥ –¥–µ–π—Å—Ç–≤–∏—è
```

#### PromoCodeUsage (–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
```python
- user: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (FK)
- promo_code: –ü—Ä–æ–º–æ–∫–æ–¥ (FK)
- group: –ì—Ä—É–ø–ø–∞ (FK, nullable)
- order: –ó–∞–∫–∞–∑ (FK, nullable)
- used_at: –í—Ä–µ–º—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```

### 3. ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è `0031_promo_codes_redesign.py`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–∏–≥—Ä–∞—Ü–∏–π orders (0034 ‚Üí 0033)
- –£—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

### 4. ‚úÖ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ì–æ—Å—Ç–∏ –Ω–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥—ã
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫—Ä–∞—Å–∏–≤–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –≤–æ–π—Ç–∏

#### –ì—Ä—É–ø–ø–æ–≤—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ü—Ä–æ–º–æ–∫–æ–¥—ã –∏–∑ –≥—Ä—É–ø–ø—ã "auction" –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ 1 —Ä–∞–∑ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç
- –°–∏—Å—Ç–µ–º–∞ –∏–Ω—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Ç–æ—Ä–æ–π –ø—Ä–æ–º–æ–∫–æ–¥ –∏–∑ –≥—Ä—É–ø–ø—ã

#### –ì–∏–±–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π (max_uses)
- –û–¥–Ω–æ—Ä–∞–∑–æ–≤–æ—Å—Ç—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (one_time_per_user)
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞ (min_order_amount)
- –ü–µ—Ä–∏–æ–¥ –¥–µ–π—Å—Ç–≤–∏—è (valid_from/valid_until)

### 5. ‚úÖ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

#### Views –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
```python
# –ü—Ä–æ–º–æ–∫–æ–¥—ã
- admin_promocodes: –°–ø–∏—Å–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- admin_promocode_create: –°–æ–∑–¥–∞–Ω–∏–µ
- admin_promocode_edit: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- admin_promocode_toggle: –í–∫–ª/–í—ã–∫–ª
- admin_promocode_delete: –£–¥–∞–ª–µ–Ω–∏–µ

# –ì—Ä—É–ø–ø—ã
- admin_promo_groups: –°–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø
- admin_promo_group_create: –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã
- admin_promo_group_edit: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã
- admin_promo_group_delete: –£–¥–∞–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- admin_promo_stats: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```

#### –§–æ—Ä–º—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- `PromoCodeForm`: –§–æ—Ä–º–∞ –ø—Ä–æ–º–æ–∫–æ–¥–∞ —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∫–æ–¥–∞
- `PromoCodeGroupForm`: –§–æ—Ä–º–∞ –≥—Ä—É–ø–ø—ã –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
- –í—Å–µ –ø–æ–ª—è —Å —É–∫—Ä–∞–∏–Ω—Å–∫–∏–º–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ (hint text)

### 6. ‚úÖ Frontend –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (cart.html)
```html
- –ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω —Å Bootstrap 5
- –í—Ö–æ–¥ —á–µ—Ä–µ–∑ Google OAuth
- –û–±—ã—á–Ω—ã–π –≤—Ö–æ–¥ –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å
- –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
- –ù–µnav—è–∑—á–∏–≤–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥
```

#### JavaScript –ª–æ–≥–∏–∫–∞
```javascript
- –û–±—Ä–∞–±–æ—Ç–∫–∞ AJAX –æ—Ç–≤–µ—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ auth_required —Ñ–ª–∞–≥–∞
- –ü–æ–∫–∞–∑ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –≥–æ—Å—Ç–µ–π
- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞
```

### 7. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ views/cart.py

#### apply_promo_code
```python
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ can_be_used_by_user()
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- –í–æ–∑–≤—Ä–∞—Ç auth_required –¥–ª—è –≥–æ—Å—Ç–µ–π
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ promo_code_data –≤ —Å–µ—Å—Å–∏–∏
```

#### remove_promo_code
```python
- –£–¥–∞–ª–µ–Ω–∏–µ promo_code_id
- –£–¥–∞–ª–µ–Ω–∏–µ promo_code_data
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è
```

## üöÄ Deployment –ø—Ä–æ—Ü–µ—Å—Å

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. –î—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è –∏–Ω–¥–µ–∫—Å
```
–û–®–ò–ë–ö–ê: idx_promo_group_active –Ω–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π
–†–ï–®–ï–ù–ò–ï: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –≤ idx_group_active_created
```

#### 2. –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∞—è –º–∏–≥—Ä–∞—Ü–∏—è orders
```
–û–®–ò–ë–ö–ê: Migration 0035 —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é 0034
–†–ï–®–ï–ù–ò–ï: –ò–∑–º–µ–Ω–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å 0035 —Å 0034 –Ω–∞ 0033
```

#### 3. –¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
```
–û–®–ò–ë–ö–ê: Dependency –Ω–∞ orders –≤ storefront –º–∏–≥—Ä–∞—Ü–∏–∏
–†–ï–®–ï–ù–ò–ï: –£–¥–∞–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –Ω–∞ orders –∏–∑ 0031
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è: 0031_promo_codes_redesign
‚úÖ –°–æ–∑–¥–∞–Ω–æ —Ç–∞–±–ª–∏—Ü: 2 (PromoCodeGroup, PromoCodeUsage)
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ —Ç–∞–±–ª–∏—Ü: 1 (PromoCode)
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ–π: 7
‚úÖ –°–æ–∑–¥–∞–Ω–æ –∏–Ω–¥–µ–∫—Å–æ–≤: 7
```

## üîó –î–æ—Å—Ç—É–ø–Ω—ã–µ URL

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- `/admin-panel/promocodes/` - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
- `/admin-panel/promocodes/create/` - –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥
- `/admin-panel/promocodes/<id>/edit/` - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
- `/admin-panel/promo-groups/` - –ì—Ä—É–ø–ø—ã –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
- `/admin-panel/promo-groups/create/` - –°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É
- `/admin-panel/promo-stats/` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `/cart/` - –ö–æ—Ä–∑–∏–Ω–∞ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
- `/apply-promo/` - AJAX endpoint –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
- `/remove-promo/` - AJAX endpoint —É–¥–∞–ª–µ–Ω–∏—è

## üé® UI/UX —É–ª—É—á—à–µ–Ω–∏—è

### –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚úÖ –ù–µnav—è–∑—á–∏–≤–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ
- ‚úÖ Google OAuth –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ –£–∫—Ä–∞–∏–Ω—Å–∫–∏–π —è–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- ‚úÖ Responsive –¥–∏–∑–∞–π–Ω

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (—Ç—Ä–µ–±—É–µ—Ç—Å—è —à–∞–±–ª–æ–Ω—ã)
- üîÑ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø–∞–º (–≤—Å–µ/–≥—Ä—É–ø–ø—ã/–≤–∞—É—á–µ—Ä—ã/–æ–±—ã—á–Ω—ã–µ)
- üîÑ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≥—Ä—É–ø–ø–∞–º
- üîÑ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- üîÑ –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –°–æ–∑–¥–∞–Ω–∏–µ admin —à–∞–±–ª–æ–Ω–æ–≤
```
- admin_promocodes.html
- admin_promocode_form.html
- admin_promo_groups.html
- admin_promo_group_form.html
- admin_promo_stats.html
```

### 2. URL –º–∞—Ä—à—Ä—É—Ç—ã
–î–æ–±–∞–≤–∏—Ç—å –≤ `storefront/urls.py`:
```python
# –ì—Ä—É–ø–ø—ã –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
path('admin-panel/promo-groups/', views.admin_promo_groups, name='admin_promo_groups'),
path('admin-panel/promo-groups/create/', views.admin_promo_group_create, name='admin_promo_group_create'),
path('admin-panel/promo-groups/<int:pk>/edit/', views.admin_promo_group_edit, name='admin_promo_group_edit'),
path('admin-panel/promo-groups/<int:pk>/delete/', views.admin_promo_group_delete, name='admin_promo_group_delete'),

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
path('admin-panel/promo-stats/', views.admin_promo_stats, name='admin_promo_stats'),
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≥–æ—Å—Ç–µ–π
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø–æ–≤—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞—É—á–µ—Ä—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- Python 3.13
- Django 5.2.6
- PostgreSQL
- Bootstrap 5
- JavaScript (Vanilla)
- AJAX

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ –≤—Å–µ FK
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∑–∞–ø—Ä–æ—Å—ã —Å select_related/prefetch_related
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ view
- –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥–µ–ª–∏
- CSRF –∑–∞—â–∏—Ç–∞ –¥–ª—è –≤—Å–µ—Ö POST –∑–∞–ø—Ä–æ—Å–æ–≤
- SQL injection –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ ORM

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞ –≤ –∫–æ–¥–µ
```python
from storefront.models import PromoCode

promo_code = PromoCode.objects.get(code='SALE10')
is_valid, message = promo_code.can_be_used_by_user(user)

if is_valid:
    discount = promo_code.calculate_discount(cart_total)
    promo_code.record_usage(user, order)
```

### –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
```python
from storefront.models import PromoCodeGroup, PromoCode

# –°–æ–∑–¥–∞–µ–º –≥—Ä—É–ø–ø—É
group = PromoCodeGroup.objects.create(
    name='Instagram —Ä–µ–∫–ª–∞–º–∞',
    one_per_account=True,
    is_active=True
)

# –°–æ–∑–¥–∞–µ–º –ø—Ä–æ–º–æ–∫–æ–¥—ã –≤ –≥—Ä—É–ø–ø–µ
for code in ['INSTA10', 'INSTA15', 'INSTA20']:
    PromoCode.objects.create(
        code=code,
        promo_type='grouped',
        group=group,
        discount_type='percentage',
        discount_value=10,
        is_active=True
    )
```

## üéâ –ò—Ç–æ–≥–æ

### ‚úÖ –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
1. ‚úÖ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ (–æ—Å–Ω–æ–≤–Ω—ã–µ, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ, –≤–∞—É—á–µ—Ä—ã)
2. ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ "1 –ø—Ä–æ–º–æ–∫–æ–¥ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç" –¥–ª—è auction –≥—Ä—É–ø–ø—ã
3. ‚úÖ –ì–∏–±–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
4. ‚úÖ –í–∞—É—á–µ—Ä—ã —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—É–º–º–æ–π
5. ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
6. ‚úÖ –ö—Ä–∞—Å–∏–≤–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
7. ‚úÖ Google OAuth –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
8. ‚úÖ Deployment —á–µ—Ä–µ–∑ SSH
9. ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –Ω–∞ production

### üöÄ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é.

---

**–°–æ–∑–¥–∞–Ω–æ:** 27 –æ–∫—Ç—è–±—Ä—è 2025  
**–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:** AI Assistant  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–æ


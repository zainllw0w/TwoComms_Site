# –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ TwoComms

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-01-30  
**–í–µ—Ä—Å–∏—è Django:** 5.2.6  
**–¶–µ–ª—å:** –ü–æ–ª–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ —Å–ª–∞–±—ã—Ö, —Å—Ä–µ–¥–Ω–∏—Ö –∏ –º–æ—â–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

---

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞](#–æ–±–∑–æ—Ä-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](#–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–æ–±–ª–µ–º—ã-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
3. [–ê–Ω–∞–ª–∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](#–∞–Ω–∞–ª–∏–∑-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
4. [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏](#—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
5. [–†–∏—Å–∫–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏](#—Ä–∏—Å–∫–∏-–∏-–ø—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏)
6. [–ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è](#–ø–ª–∞–Ω-–≤–Ω–µ–¥—Ä–µ–Ω–∏—è)
7. [–ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏](#—á–µ–∫-–ª–∏—Å—Ç-–ø—Ä–æ–≤–µ—Ä–∫–∏)

---

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Backend:** Django 5.2.6
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** MySQL/PostgreSQL (production), SQLite (development)
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** Redis (production), LocMemCache (development)
- **–°—Ç–∞—Ç–∏–∫–∞:** WhiteNoise —Å –∫–æ–º–ø—Ä–µ—Å—Å–∏–µ–π
- **Frontend:** Vanilla JavaScript, Bootstrap
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞:** Facebook Pixel, TikTok Pixel, Google Tag Manager

### –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **Middleware:** 14 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** Redis —Å —Ñ—Ä–∞–≥–º–µ–Ω—Ç–Ω—ã–º –∫—ç—à–µ–º
- **–°–∂–∞—Ç–∏–µ:** Django Compressor (–æ—Ç–∫–ª—é—á–µ–Ω), WhiteNoise (–≤–∫–ª—é—á–µ–Ω)
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:** ImageOptimizationMiddleware

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

> **–í–ê–ñ–ù–û:** –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `PERFORMANCE_CRITICAL_ISSUES.md`

### üî¥ –ö–†–ò–¢–ò–ß–ù–û #1: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ status='published'

**–ü—Ä–æ–±–ª–µ–º–∞:** –í –ø—É–±–ª–∏—á–Ω—ã—Ö views –ù–ï–¢ —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ `status='published'`, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫–∏ –∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã.

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ views:**
- `catalog.py`: home(), load_more_products(), catalog(), search()
- `product.py`: product_detail()
- `api.py`: get_product_json(), get_related_products()

**–†–∏—Å–∫–∏:**
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: —á–µ—Ä–Ω–æ–≤–∏–∫–∏ –≤–∏–¥–Ω—ã –ø—É–±–ª–∏—á–Ω–æ
- SEO: –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –Ω–µ–æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
- UX: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å `.filter(status='published')` –≤–æ –≤—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ queryset'—ã.

---

### üî¥ –ö–†–ò–¢–ò–ß–ù–û #2: N+1 –∑–∞–ø—Ä–æ—Å—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ

**–§–∞–π–ª—ã:**
- `twocomms/storefront/views/cart.py`: view_cart (—Å—Ç—Ä–æ–∫–∞ 141), cart_items_api (—Å—Ç—Ä–æ–∫–∞ 1039)
- `twocomms/storefront/views/checkout.py`: checkout (—Å—Ç—Ä–æ–∫–∞ 66)
- `twocomms/storefront/views/utils.py`: _get_color_variant_safe (—Å—Ç—Ä–æ–∫–∞ 294) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ü–∏–∫–ª–∞—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
# ‚ùå –ü–†–û–ë–õ–ï–ú–ê: N+1 –∑–∞–ø—Ä–æ—Å—ã –≤ —Ü–∏–∫–ª–µ
for item_key, item_data in cart.items():
    product = Product.objects.select_related('category').get(id=product_id)  # –û—Ç–¥–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞!
    color_variant = _get_color_variant_safe(item_data.get('color_variant_id'))  # –ï—â–µ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å!
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ –æ–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º
product_ids = [item_data.get('product_id') for item_data in cart.values() if item_data.get('product_id')]
products = Product.objects.select_related('category').in_bulk(product_ids)

color_variant_ids = [item_data.get('color_variant_id') for item_data in cart.values()]
color_variants_map = _get_color_variants_bulk(color_variant_ids)  # –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è

for item_key, item_data in cart.items():
    product = products.get(item_data.get('product_id'))
    if not product:
        continue
    color_variant = color_variants_map.get(_normalize_color_variant_id(item_data.get('color_variant_id')))
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –í —Ü–∏–∫–ª–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ –ë–î –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞. –ü—Ä–∏ 10 —Ç–æ–≤–∞—Ä–∞—Ö –≤ –∫–æ—Ä–∑–∏–Ω–µ = 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–º–µ—Å—Ç–æ 1.

**–†–µ—à–µ–Ω–∏–µ:**
```python
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å in_bulk –¥–ª—è –º–∞—Å—Å–æ–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
product_ids = [item_data.get('product_id') for item_data in cart.values()]
products = Product.objects.select_related('category').in_bulk(product_ids)

for item_key, item_data in cart.items():
    product = products.get(item_data.get('product_id'))
    if not product:
        continue
```

**–û–∂–∏–¥–∞–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ:** –°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î —Å N –¥–æ 1, —É—Å–∫–æ—Ä–µ–Ω–∏–µ –Ω–∞ 80-90% –¥–ª—è –∫–æ—Ä–∑–∏–Ω—ã —Å 5+ —Ç–æ–≤–∞—Ä–∞–º–∏.

---

### üî¥ –ö–†–ò–¢–ò–ß–ù–û: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ prefetch_related –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–§–∞–π–ª:** `twocomms/storefront/views/product.py`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
# –°—Ç—Ä–æ–∫–∞ 52
product = get_object_or_404(Product.objects.select_related('category'), slug=slug)
images = product.images.all()  # N+1 –∑–∞–ø—Ä–æ—Å!
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ:**
```python
product = get_object_or_404(
    Product.objects
    .select_related('category')
    .prefetch_related('images', 'color_variants__images', 'color_variants__color'),
    slug=slug
)
images = list(product.images.all())  # –¢–µ–ø–µ—Ä—å –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
```

**–û–∂–∏–¥–∞–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ:** –°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å 1+N –¥–æ 3-4, —É—Å–∫–æ—Ä–µ–Ω–∏–µ –Ω–∞ 60-70%.

---

### üü° –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢: –ë–æ–ª—å—à–æ–π JavaScript —Ñ–∞–π–ª

**–§–∞–π–ª:** `twocomms/twocomms_django_theme/static/js/main.js`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 2289+ —Å—Ç—Ä–æ–∫
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–†–µ—à–µ–Ω–∏–µ:**
1. –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –º–æ–¥—É–ª–∏:
   - `analytics.js` - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
   - `cart.js` - –∫–æ—Ä–∑–∏–Ω–∞ (—É–∂–µ –µ—Å—Ç—å –º–æ–¥—É–ª—å)
   - `product.js` - —Ç–æ–≤–∞—Ä—ã
   - `homepage.js` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (—É–∂–µ –µ—Å—Ç—å –º–æ–¥—É–ª—å)
   - `shared.js` - –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (—É–∂–µ –µ—Å—Ç—å –º–æ–¥—É–ª—å)

2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç:
```javascript
// –ó–∞–≥—Ä—É–∂–∞—Ç—å –º–æ–¥—É–ª–∏ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ
if (document.querySelector('.product-detail')) {
    import('./modules/product-detail.js');
}
```

**–û–∂–∏–¥–∞–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ:** –°–Ω–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ JS –Ω–∞ 40-50%, —É—Å–∫–æ—Ä–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ 30-40%.

---

### üü° –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢: ImageOptimizationMiddleware –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å

**–§–∞–π–ª:** `twocomms/twocomms/image_middleware.py`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Middleware –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ WebP –Ω–∞ –ª–µ—Ç—É –∑–∞–º–µ–¥–ª—è–µ—Ç –æ—Ç–≤–µ—Ç
- –ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ (—Å–∏–≥–Ω–∞–ª—ã Django)
2. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏

**–û–∂–∏–¥–∞–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ:** –£—Å–∫–æ—Ä–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ 50-70%.

---

### üü° –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢: –ú–Ω–æ–∂–µ—Å—Ç–≤–æ middleware

**–§–∞–π–ª:** `twocomms/twocomms/settings.py`

**–ü—Ä–æ–±–ª–µ–º–∞:**
14 middleware –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å:
1. ForceHTTPSMiddleware
2. WWWRedirectMiddleware
3. SimpleRateLimitMiddleware
4. SecurityMiddleware
5. SecurityHeadersMiddleware
6. WhiteNoiseMiddleware
7. ImageOptimizationMiddleware
8. SessionMiddleware
9. CommonMiddleware
10. CsrfViewMiddleware
11. AuthenticationMiddleware
12. MessageMiddleware
13. XFrameOptionsMiddleware
14. RedirectFallbackMiddleware
15. UTMTrackingMiddleware
16. SimpleAnalyticsMiddleware
17. NovaPoshtaFallbackMiddleware

**–†–µ—à–µ–Ω–∏–µ:**
1. –û–±—ä–µ–¥–∏–Ω–∏—Ç—å SecurityHeadersMiddleware —Å SecurityMiddleware
2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å ImageOptimizationMiddleware (—Ç–æ–ª—å–∫–æ –¥–ª—è media)
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Å–ª–æ–≤–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö middleware

**–û–∂–∏–¥–∞–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ:** –°–Ω–∏–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ 10-15%.

---

## –ê–Ω–∞–ª–∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 1. Database Queries

#### ‚úÖ –•–æ—Ä–æ—à–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `select_related('category')` –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ views
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —á–µ—Ä–µ–∑ `get_categories_cached()`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `in_bulk()` –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Å—Ç–∞—Ö

#### ‚ùå –¢—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

**1.1. –ö–æ—Ä–∑–∏–Ω–∞ (cart.py)**
- **–°—Ç—Ä–æ–∫–∞ 141, 1039:** N+1 –∑–∞–ø—Ä–æ—Å—ã –≤ —Ü–∏–∫–ª–µ
- **–°—Ç—Ä–æ–∫–∞ 344, 524:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `in_bulk()`, –Ω–æ –º–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–ª—å—à–µ

**1.2. –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞ (product.py)**
- **–°—Ç—Ä–æ–∫–∞ 52:** –ù–µ—Ç `prefetch_related` –¥–ª—è images
- **–°—Ç—Ä–æ–∫–∞ 169:** –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**1.3. –ö–∞—Ç–∞–ª–æ–≥ (catalog.py)**
- **–°—Ç—Ä–æ–∫–∞ 50, 105, 165:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `select_related`, –Ω–µ—Ç `prefetch_related` –¥–ª—è images
- **–°—Ç—Ä–æ–∫–∞ 209:** –í `load_more_products` –µ—Å—Ç—å `prefetch_related` - —Ö–æ—Ä–æ—à–æ!

**1.4. –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (views.py)**
- **–°—Ç—Ä–æ–∫–∞ 618, 622:** –ù–µ—Ç `prefetch_related` –¥–ª—è images –∏ color_variants

---

### 2. JavaScript

#### ‚úÖ –•–æ—Ä–æ—à–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `IntersectionObserver` –¥–ª—è lazy loading
- `scheduleIdle()` –¥–ª—è –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (modules/)

#### ‚ùå –¢—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

**2.1. main.js (2289+ —Å—Ç—Ä–æ–∫)**
- –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –°–º–µ—à–∞–Ω–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

**2.2. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã `fetchCartAnalyticsSnapshot()` –º–æ–≥—É—Ç –±—ã—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- –°–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ

**2.3. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π**
- –ù–µ—Ç debounce –¥–ª—è resize —Å–æ–±—ã—Ç–∏–π –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Å—Ç–∞—Ö
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–ª—É—à–∞—Ç–µ–ª–∏ –Ω–∞ –æ–¥–Ω–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ

---

### 3. –®–∞–±–ª–æ–Ω—ã (Templates)

#### ‚úÖ –•–æ—Ä–æ—à–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `loading="lazy"` –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `optimized_image` template tag –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `fetchpriority` –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

#### ‚ùå –¢—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

**3.1. Lazy loading**
- –ù–µ –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç lazy loading
- –ù–µ—Ç `loading="lazy"` –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö

**3.2. –†–∞–∑–º–µ—Ä—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
- –ù–µ—Ç —è–≤–Ω—ã—Ö width/height –¥–ª—è –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å layout shift)
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –ø–æ–ª–Ω–æ–º —Ä–∞–∑–º–µ—Ä–µ

---

### 4. Middleware

#### ‚úÖ –•–æ—Ä–æ—à–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:
- –£—Å–ª–æ–≤–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è DEBUG —Ä–µ–∂–∏–º–∞
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ RateLimitMiddleware

#### ‚ùå –¢—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

**4.1. ImageOptimizationMiddleware**
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –ª–µ—Ç—É
- –ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ú–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª—è—Ç—å –æ—Ç–≤–µ—Ç—ã

**4.2. –ü–æ—Ä—è–¥–æ–∫ middleware**
- SecurityHeadersMiddleware –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å SecurityMiddleware
- ImageOptimizationMiddleware –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–ª–∏–∂–µ –∫ –∫–æ–Ω—Ü—É

---

### 5. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

#### ‚úÖ –•–æ—Ä–æ—à–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:
- Redis –¥–ª—è production
- Fragment cache –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- Page cache –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### ‚ùå –¢—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

**5.1. –ö—ç—à –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
- –ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ImageOptimizationMiddleware –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à

**5.2. –ö—ç—à —à–∞–±–ª–æ–Ω–æ–≤**
- –í–∫–ª—é—á–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è production (—Ö–æ—Ä–æ—à–æ)
- –ù–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤

---

### 6. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

#### ‚úÖ –•–æ—Ä–æ—à–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:
- WhiteNoise —Å –∫–æ–º–ø—Ä–µ—Å—Å–∏–µ–π
- –î–æ–ª–≥–∏–π Cache-Control (180 –¥–Ω–µ–π)
- Manifest –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

#### ‚ùå –¢—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

**6.1. –†–∞–∑–º–µ—Ä CSS**
- –ù–µ—Å–∫–æ–ª—å–∫–æ CSS —Ñ–∞–π–ª–æ–≤ –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å
- –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å—Ç–∏–ª–∏ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è

**6.2. JavaScript**
- –ù–µ—Ç –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å tree-shaking

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)

#### 1.1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å N+1 –∑–∞–ø—Ä–æ—Å—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ

**–§–∞–π–ª:** `twocomms/storefront/views/cart.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```python
# –°—Ç—Ä–æ–∫–∞ 129-208: view_cart
# –ë–´–õ–û:
for item_key, item_data in cart.items():
    product = Product.objects.select_related('category').get(id=product_id)

# –°–¢–ê–ù–ï–¢:
product_ids = [item_data.get('product_id') for item_data in cart.values() if item_data.get('product_id')]
products = Product.objects.select_related('category').in_bulk(product_ids)

for item_key, item_data in cart.items():
    product_id = item_data.get('product_id')
    product = products.get(product_id)
    if not product:
        continue
```

**–†–∏—Å–∫–∏:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤.

---

#### 1.2. –î–æ–±–∞–≤–∏—Ç—å prefetch_related –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–§–∞–π–ª:** `twocomms/storefront/views/product.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```python
# –°—Ç—Ä–æ–∫–∞ 52
# –ë–´–õ–û:
product = get_object_or_404(Product.objects.select_related('category'), slug=slug)
images = product.images.all()

# –°–¢–ê–ù–ï–¢:
product = get_object_or_404(
    Product.objects
    .select_related('category')
    .prefetch_related('images', 'color_variants__images', 'color_variants__color'),
    slug=slug
)
images = list(product.images.all())
```

**–†–∏—Å–∫–∏:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ. –£–ª—É—á—à–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

---

#### 1.3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

**–§–∞–π–ª:** `twocomms/storefront/views/catalog.py` (–∏–ª–∏ `views.py`)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```python
# –°—Ç—Ä–æ–∫–∞ 50
# –ë–´–õ–û:
product_qs = Product.objects.select_related('category').order_by('-id')

# –°–¢–ê–ù–ï–¢:
product_qs = Product.objects.select_related('category').prefetch_related('images', 'color_variants__images').order_by('-id')
```

**–†–∏—Å–∫–∏:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ.

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏)

#### 2.1. –†–∞–∑–¥–µ–ª–∏—Ç—å main.js –Ω–∞ –º–æ–¥—É–ª–∏

**–ü–ª–∞–Ω:**
1. –°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª–∏:
   - `analytics-core.js` - –±–∞–∑–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
   - `analytics-events.js` - —Å–æ–±—ã—Ç–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
   - `cart-ajax.js` - AJAX –∫–æ—Ä–∑–∏–Ω—ã
   - `product-detail.js` - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (—É–∂–µ –µ—Å—Ç—å)
   - `homepage.js` - –≥–ª–∞–≤–Ω–∞—è (—É–∂–µ –µ—Å—Ç—å)

2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç:
```javascript
// –í base.html
<script type="module">
  // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –º–æ–¥—É–ª–∏
  if (document.querySelector('.product-detail')) {
    import('/static/js/modules/product-detail.js');
  }
  if (document.querySelector('.cart-container')) {
    import('/static/js/modules/cart.js');
  }
</script>
```

**–†–∏—Å–∫–∏:** –°—Ä–µ–¥–Ω–∏–µ. –ù—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

---

#### 2.2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å ImageOptimizationMiddleware

**–í–∞—Ä–∏–∞–Ω—Ç—ã:**
1. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ (—Å–∏–≥–Ω–∞–ª—ã)
2. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CDN

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å django-imagekit –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å —Å–∏–≥–Ω–∞–ª –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

**–†–∏—Å–∫–∏:** –°—Ä–µ–¥–Ω–∏–µ. –ù—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

---

#### 2.3. –û–±—ä–µ–¥–∏–Ω–∏—Ç—å Security Middleware

**–§–∞–π–ª:** `twocomms/twocomms/middleware.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```python
# –û–±—ä–µ–¥–∏–Ω–∏—Ç—å SecurityHeadersMiddleware —Å SecurityMiddleware
# –ò–ª–∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –ª–æ–≥–∏–∫—É –≤ SecurityMiddleware
```

**–†–∏—Å–∫–∏:** –ù–∏–∑–∫–∏–µ. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ security headers.

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞)

#### 3.1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è CSS

**–ü–ª–∞–Ω:**
1. –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å—Ç–∏–ª–∏
2. –û–±—ä–µ–¥–∏–Ω–∏—Ç—å CSS —Ñ–∞–π–ª—ã –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å critical CSS –¥–ª—è above-the-fold –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**–†–∏—Å–∫–∏:** –ù–∏–∑–∫–∏–µ. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

---

#### 3.2. –£–ª—É—á—à–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

**–ü–ª–∞–Ω:**
1. –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
2. –£–≤–µ–ª–∏—á–∏—Ç—å –≤—Ä–µ–º—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CDN –¥–ª—è media —Ñ–∞–π–ª–æ–≤

**–†–∏—Å–∫–∏:** –ù–∏–∑–∫–∏–µ.

---

#### 3.3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

**–ü–ª–∞–Ω:**
1. –û—Ç–ª–æ–∂–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (–ø–æ—Å–ª–µ DOMContentLoaded)
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å requestIdleCallback –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–±—ã—Ç–∏–π
3. –ë–∞—Ç—á–∏—Ç—å —Å–æ–±—ã—Ç–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

**–†–∏—Å–∫–∏:** –ù–∏–∑–∫–∏–µ. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è.

---

## –†–∏—Å–∫–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏

1. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î**
   - **–†–∏—Å–∫:** –ú–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ None, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å edge cases

2. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ JavaScript**
   - **–†–∏—Å–∫:** –ú–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### üü° –°—Ä–µ–¥–Ω–∏–µ —Ä–∏—Å–∫–∏

1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
   - **–†–∏—Å–∫:** –ú–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞

2. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ middleware**
   - **–†–∏—Å–∫:** –ú–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö middleware, –ø—Ä–æ–≤–µ—Ä–∫–∞ security headers

### üü¢ –ù–∏–∑–∫–∏–µ —Ä–∏—Å–∫–∏

1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è CSS**
   - **–†–∏—Å–∫:** –ú–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

2. **–£–ª—É—á—à–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è**
   - **–†–∏—Å–∫:** –ú–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞

---

## –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (1-2 –¥–Ω—è)

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å N+1 –∑–∞–ø—Ä–æ—Å—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å prefetch_related –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
3. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
4. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ staging

### –§–∞–∑–∞ 2: –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (3-5 –¥–Ω–µ–π)

1. ‚úÖ –†–∞–∑–¥–µ–ª–∏—Ç—å main.js –Ω–∞ –º–æ–¥—É–ª–∏
2. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å ImageOptimizationMiddleware
3. ‚úÖ –û–±—ä–µ–¥–∏–Ω–∏—Ç—å Security Middleware
4. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ staging

### –§–∞–∑–∞ 3: –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (1-2 –Ω–µ–¥–µ–ª–∏)

1. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è CSS
2. ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
3. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
4. ‚úÖ –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

### Database Queries
- [ ] –ù–µ—Ç N+1 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ
- [ ] –í—Å–µ views –∏—Å–ø–æ–ª—å–∑—É—é—Ç select_related/prefetch_related
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ó–∞–ø—Ä–æ—Å—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã (–ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ django-debug-toolbar)

### JavaScript
- [ ] main.js —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –º–æ–¥—É–ª–∏
- [ ] –ú–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
- [ ] –ù–µ—Ç –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ

### –®–∞–±–ª–æ–Ω—ã
- [ ] –í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç lazy loading (–∫—Ä–æ–º–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö)
- [ ] –í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–º–µ—é—Ç width/height
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è optimized_image tag
- [ ] –ù–µ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å—Ç–∏–ª–µ–π

### Middleware
- [ ] –ü–æ—Ä—è–¥–æ–∫ middleware –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω
- [ ] Security headers —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] ImageOptimizationMiddleware –Ω–µ –∑–∞–º–µ–¥–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã
- [ ] Rate limiting —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] Redis —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ö—ç—à –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Page cache –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] Fragment cache –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π

### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
- [ ] WhiteNoise —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ö–æ–º–ø—Ä–µ—Å—Å–∏—è –≤–∫–ª—é—á–µ–Ω–∞
- [ ] Cache-Control –∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- [ ] Manifest –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- [ ] Lighthouse score > 90
- [ ] First Contentful Paint < 1.5s
- [ ] Time to Interactive < 3s
- [ ] Total Blocking Time < 200ms

### –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- [ ] –ù–µ—Ç –ª–∞–≥–æ–≤ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
- [ ] –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ
- [ ] JavaScript –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- Django Debug Toolbar (development)
- Sentry –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- Google PageSpeed Insights
- Lighthouse CI

### 2. CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CDN –¥–ª—è:
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ (CSS, JS)
- Media —Ñ–∞–π–ª–æ–≤ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- –®—Ä–∏—Ñ—Ç—ã

### 3. Database –∏–Ω–¥–µ–∫—Å—ã

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤:**
- Product.category_id
- Product.featured
- Product.status
- Order.user_id
- Order.created

### 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å WebP —Ñ–æ—Ä–º–∞—Ç
- –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- Responsive images (srcset)
- Lazy loading –¥–ª—è –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∏–∂–µ fold

---

## –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ)

### 7. Database –∏–Ω–¥–µ–∫—Å—ã

#### ‚úÖ –•–æ—Ä–æ—à–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:
- –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ Product: `featured`, `category`, `status`, `priority`, `published_at`
- –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ Category: `is_active`, `is_featured`, `order`
- –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ PromoCode: `code`, `is_active`, `group`
- –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ UTM tracking: –≤—Å–µ –ø–æ–ª—è –∏–º–µ—é—Ç `db_index=True`

#### ‚ö†Ô∏è –ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:

**7.1. –°–æ—Å—Ç–∞–≤–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã**
- –î–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Ç–∏–ø–∞ `Product.objects.filter(category=X, featured=True).order_by('-id)` –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å:
```python
models.Index(fields=['category', 'featured', '-id'], name='idx_product_cat_feat_id')
```

**7.2. –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è Order**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –Ω–∞ `Order.user_id`, `Order.created`, `Order.status`
- –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤: `['user', 'status', '-created']`

---

### 8. –ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

#### ‚úÖ –•–æ—Ä–æ—à–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:
- `MobileOptimizer` –≤ `modules/optimizers.js` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ª–∞–±—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –û—Ç–∫–ª—é—á–µ–Ω–∏–µ backdrop-filter –¥–ª—è —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∞–Ω–∏–º–∞—Ü–∏–π
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è touch —Å–æ–±—ã—Ç–∏–π

#### ‚ùå –¢—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

**8.1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤**
- –¢–µ–∫—É—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `navigator.hardwareConcurrency <= 2` –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É `navigator.deviceMemory` (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)

**8.2. Lazy loading –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö**
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç `loading="lazy"` –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π `rootMargin` –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

**8.3. JavaScript –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö**
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±–ª–µ–≥—á–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ JS –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
- –û—Ç–ª–æ–∂–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–æ–¥—É–ª–µ–π

---

### 9. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ .only() –∏ .defer()

#### ‚ùå –¢—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

**9.1. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ .only()**
- –ù–∞–π–¥–µ–Ω–æ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ `analytics_helpers.py`
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ views –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –ø–æ–ª–µ–π

**–ü—Ä–∏–º–µ—Ä—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
```python
# –í catalog.py - –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Ç–æ–≤–∞—Ä–æ–≤
products = Product.objects.select_related('category').prefetch_related('images').only(
    'id', 'title', 'slug', 'price', 'discount_percent', 'main_image', 'category__name'
)

# –í product_detail - –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤—Å–µ –ø–æ–ª—è (–Ω—É–∂–Ω–∞ –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
# –ù–æ –º–æ–∂–Ω–æ defer() –¥–ª—è –ø–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Ä–∞–∑—É
product = Product.objects.select_related('category').defer('full_description', 'seo_schema')
```

**–†–∏—Å–∫–∏:** –ù–∏–∑–∫–∏–µ. –ù—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–ª—è –∑–∞–≥—Ä—É–∂–µ–Ω—ã.

---

### 10. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã:

**10.1. –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏**
- Facebook Pixel, GTM, TikTok Pixel –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
- –ú–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–†–µ—à–µ–Ω–∏–µ:**
```javascript
// –û—Ç–ª–æ–∂–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
window.addEventListener('load', () => {
  // –ó–∞–≥—Ä—É–∂–∞—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  loadAnalytics();
});
```

**10.2. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ /cart/items/**
- `fetchCartAnalyticsSnapshot()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ–±—ã—Ç–∏–∏
- –ú–æ–∂–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

**–†–µ—à–µ–Ω–∏–µ:**
```javascript
let cartSnapshotCache = null;
let cartSnapshotCacheTime = 0;
const CART_SNAPSHOT_CACHE_TTL = 5000; // 5 —Å–µ–∫—É–Ω–¥

function fetchCartAnalyticsSnapshot() {
  const now = Date.now();
  if (cartSnapshotCache && (now - cartSnapshotCacheTime) < CART_SNAPSHOT_CACHE_TTL) {
    return Promise.resolve(cartSnapshotCache);
  }
  
  return fetch('/cart/items/', {
    headers: { 'X-Requested-With': 'XMLHttpRequest' },
    cache: 'no-store'
  }).then(response => {
    if (!response.ok) throw new Error('cart snapshot failed');
    return response.json();
  }).then(data => {
    cartSnapshotCache = data;
    cartSnapshotCacheTime = now;
    return data;
  });
}
```

---

### 11. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (requirements.txt)

#### –ê–Ω–∞–ª–∏–∑ –≤–µ—Ä—Å–∏–π:

**–¢–µ–∫—É—â–∏–µ –≤–µ—Ä—Å–∏–∏:**
- Django 5.2.6 ‚úÖ (–ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è)
- Pillow 11.3.0 ‚úÖ
- django-redis 5.4.0 ‚úÖ
- django-compressor 4.5.1 ‚úÖ
- djangorestframework 3.15.2 ‚úÖ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1. –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã
2. –ú–æ–∂–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ Django 5.3 (–∫–æ–≥–¥–∞ –≤—ã–π–¥–µ—Ç) –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤ –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º

---

### 12. –®–∞–±–ª–æ–Ω—ã - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

#### ‚úÖ –•–æ—Ä–æ—à–æ:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `{% cache %}` –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –±–ª–æ–∫–æ–≤
- `loading="lazy"` –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `fetchpriority` –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

#### ‚ùå –¢—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

**12.1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `{% cache %}` —Ç–æ–ª—å–∫–æ –¥–ª—è hero –∏ featured –±–ª–æ–∫–æ–≤
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

**12.2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–Ω—ã—Ö —Ç–µ–≥–æ–≤**
- `optimized_image` tag –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–æ—Ç tag

**12.3. Inline —Å—Ç–∏–ª–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ inline —Å—Ç–∏–ª–µ–π/—Å–∫—Ä–∏–ø—Ç–æ–≤
- –í—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –º–æ–±–∏–ª—å–Ω—ã–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º

### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- `MobileOptimizer.isLowEndDevice()` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ª–∞–±—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –û—Ç–∫–ª—é—á–∞–µ—Ç backdrop-filter, —É–º–µ–Ω—å—à–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏–∏

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

1. **–£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ**
```python
# –í views/catalog.py
HOME_PRODUCTS_PER_PAGE = 8  # –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
# –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –º–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å –¥–æ 6
if request.user_agent.is_mobile:
    HOME_PRODUCTS_PER_PAGE = 6
```

2. **–û—Ç–ª–æ–∂–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
```html
<!-- –î–ª—è —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π lazy loading -->
<img src="..." loading="lazy" decoding="async" 
     {% if is_low_end_device %}fetchpriority="low"{% endif %}>
```

3. **–£–ø—Ä–æ—Å—Ç–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏**
```css
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}

.perf-lite * {
  animation-duration: 0.3s !important;
  transition-duration: 0.2s !important;
}
```

---

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ç–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTP/2 Server Push –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
2. –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤:
```html
<link rel="preload" href="{% static 'css/styles.css' %}" as="style">
<link rel="preload" href="{% static 'js/main.js' %}" as="script">
```

3. DNS prefetch –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤:
```html
<link rel="dns-prefetch" href="//www.googletagmanager.com">
<link rel="dns-prefetch" href="//connect.facebook.net">
```

---

### 3. Service Worker –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Service Worker –¥–ª—è:
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- Offline –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- –ë—ã—Å—Ç—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –≤–∏–∑–∏—Ç–æ–≤

**–§–∞–π–ª:** `twocomms/static/sw.js` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ.

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç —Ö–æ—Ä–æ—à—É—é –æ—Å–Ω–æ–≤—É, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö:

1. **–ö—Ä–∏—Ç–∏—á–Ω–æ:** N+1 –∑–∞–ø—Ä–æ—Å—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ prefetch_related
2. **–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ë–æ–ª—å—à–æ–π JavaScript —Ñ–∞–π–ª –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
3. **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –£–ª—É—á—à–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è CSS
4. **–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ .only()/.defer(), –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- –£—Å–∫–æ—Ä–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü –Ω–∞ 40-60%
- –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ë–î –Ω–∞ 70-80%
- –£–ª—É—á—à–µ–Ω–∏–µ Lighthouse score –¥–æ 90+
- –£–ª—É—á—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –Ω–∞ 50-70%

**–ú–µ—Ç—Ä–∏–∫–∏:**
- First Contentful Paint: < 1.5s (—Ç–µ–∫—É—â–µ–µ: ~2.5s)
- Time to Interactive: < 3s (—Ç–µ–∫—É—â–µ–µ: ~4.5s)
- Total Blocking Time: < 200ms (—Ç–µ–∫—É—â–µ–µ: ~400ms)
- Largest Contentful Paint: < 2.5s (—Ç–µ–∫—É—â–µ–µ: ~3.5s)

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É: —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ 60-80%
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤: —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ 40-60%

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (1-2 –¥–Ω—è)
1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å N+1 –∑–∞–ø—Ä–æ—Å—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å prefetch_related –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
3. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
4. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ staging

### –§–∞–∑–∞ 2: –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (3-5 –¥–Ω–µ–π)
1. ‚úÖ –†–∞–∑–¥–µ–ª–∏—Ç—å main.js –Ω–∞ –º–æ–¥—É–ª–∏
2. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å ImageOptimizationMiddleware
3. ‚úÖ –û–±—ä–µ–¥–∏–Ω–∏—Ç—å Security Middleware
4. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
5. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ staging

### –§–∞–∑–∞ 3: –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (1-2 –Ω–µ–¥–µ–ª–∏)
1. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è CSS
2. ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
3. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ .only()/.defer()
4. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
5. ‚úÖ –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –§–∞–∑–∞ 4: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–ª—É—á—à–µ–Ω–∏—è (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ)
1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
2. ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ Lighthouse
3. ‚úÖ –ê–Ω–∞–ª–∏–∑ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
4. ‚úÖ –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

---

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### ‚ö†Ô∏è –ß—Ç–æ –ù–ï –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å:
1. **–õ–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å–∞–π—Ç–∞** - –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
2. **–í–Ω–µ—à–Ω–∏–π –≤–∏–¥** - –≤—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –≤–ª–∏—è—Ç—å –Ω–∞ UI
3. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** - –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –ø—Ä–µ–∂–¥–µ

### ‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
1. –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç (–∫–æ—Ä–∑–∏–Ω–∞, –∑–∞–∫–∞–∑—ã, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞)
3. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
4. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è
5. –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

### üîç –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
1. **Django Debug Toolbar** - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î
2. **Lighthouse** - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. **Chrome DevTools Performance** - –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. **Network tab** - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
5. **Real devices** - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

---

---

## –°–í–Ø–ó–ê–ù–ù–´–ï –î–û–ö–£–ú–ï–ù–¢–´

–î–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–±–ª–µ–º –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏–π, —Å–º. —Ç–∞–∫–∂–µ:

1. **`PERFORMANCE_CRITICAL_ISSUES.md`** - –î–µ—Ç–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º —Å —Ç–æ—á–Ω—ã–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏ –∫–æ–¥–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏
2. **`PERFORMANCE_DETAILED_VERIFICATION.md`** - –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

---

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω:** 2025-01-30  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-30  
**–í–µ—Ä—Å–∏—è:** 2.0 (—Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏)


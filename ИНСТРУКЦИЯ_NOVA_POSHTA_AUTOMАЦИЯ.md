# üöö –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è Nova Poshta

## üìã –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å—ã –ø–æ—Å—ã–ª–æ–∫ —á–µ—Ä–µ–∑ API –ù–æ–≤–æ–π –ü–æ—á—Ç—ã **–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç** –∏:

1. ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –ø–æ—Å—ã–ª–∫–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
2. ‚úÖ –ö–æ–≥–¥–∞ –ø–æ—Å—ã–ª–∫–∞ –ø–æ–ª—É—á–µ–Ω–∞ ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –Ω–∞ "–û—Ç—Ä–∏–º–∞–Ω–æ"
3. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã –Ω–∞ "–û–ø–ª–∞—á–µ–Ω–æ"
4. ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç Purchase —Å–æ–±—ã—Ç–∏–µ –≤ Meta Pixel (Facebook)
5. ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram –∞–¥–º–∏–Ω—É –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ–¥–∏–Ω —Ä–∞–∑)

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å cron job

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:

```bash
sshpass -p 'trs5m4t1' ssh -o StrictHostKeyChecking=no qlknpodo@195.191.24.169 "bash -lc 'cd /home/qlknpodo/TWC/TwoComms_Site/twocomms && bash -s'" < setup_nova_poshta_cron.sh
```

–ò–ª–∏ –µ—Å–ª–∏ —É–∂–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
bash setup_nova_poshta_cron.sh
```

–≠—Ç–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É **–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç**.

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ cron –Ω–∞—Å—Ç—Ä–æ–µ–Ω:

```bash
sshpass -p 'trs5m4t1' ssh -o StrictHostKeyChecking=no qlknpodo@195.191.24.169 "crontab -l | grep update_tracking_statuses"
```

–î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞ —Å `*/5 * * * *`.

---

## üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ö–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –¢–¢–ù –∫ –∑–∞–∫–∞–∑—É:

1. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–º–µ—Ä –¢–¢–ù –≤ –∑–∞–∫–∞–∑
2. –°–∏—Å—Ç–µ–º–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —ç—Ç–æ—Ç –∑–∞–∫–∞–∑
3. –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ API –ù–æ–≤–æ–π –ü–æ—á—Ç—ã

### –ö–æ–≥–¥–∞ –ø–æ—Å—ã–ª–∫–∞ –ø–æ–ª—É—á–µ–Ω–∞:

1. **API Nova Poshta** –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "–û—Ç—Ä–∏–º–∞–Ω–æ –æ—Ç—Ä–∏–º—É–≤–∞—á–µ–º"
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
   - –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ ‚Üí `done` (–û—Ç—Ä–∏–º–∞–Ω–æ)
   - –°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã ‚Üí `paid` (–û–ø–ª–∞—á–µ–Ω–æ)
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Purchase —Å–æ–±—ã—Ç–∏–µ –≤ **Meta Pixel**
   - –ê–¥–º–∏–Ω –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ **Telegram**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ –µ—Å—Ç—å telegram_id)

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:

```bash
sshpass -p 'trs5m4t1' ssh -o StrictHostKeyChecking=no qlknpodo@195.191.24.169 "tail -50 /home/qlknpodo/TWC/TwoComms_Site/twocomms/logs/nova_poshta_cron.log"
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
sshpass -p 'trs5m4t1' ssh -o StrictHostKeyChecking=no qlknpodo@195.191.24.169 "bash -lc 'source /home/qlknpodo/virtualenv/TWC/TwoComms_Site/twocomms/3.13/bin/activate && cd /home/qlknpodo/TWC/TwoComms_Site/twocomms && python manage.py update_tracking_statuses'"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞:

```bash
sshpass -p 'trs5m4t1' ssh -o StrictHostKeyChecking=no qlknpodo@195.191.24.169 "bash -lc 'source /home/qlknpodo/virtualenv/TWC/TwoComms_Site/twocomms/3.13/bin/activate && cd /home/qlknpodo/TWC/TwoComms_Site/twocomms && python manage.py update_tracking_statuses --order-number TWC30102025N01'"
```

---

## üí¨ –ß—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç –∞–¥–º–∏–Ω –≤ Telegram

–ö–æ–≥–¥–∞ —Å—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∞–¥–º–∏–Ω –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:

```
ü§ñ –ê–í–¢–û–ú–ê–¢–ò–ß–ù–ï –û–ù–û–í–õ–ï–ù–ù–Ø –°–¢–ê–¢–£–°–£

üÜî –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è: #TWC30102025N01
üìã –¢–¢–ù: 59001234567890

üìä –°—Ç–∞—Ç—É—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:
‚îú‚îÄ –ë—É–ª–æ: –í—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ
‚îî‚îÄ –°—Ç–∞–ª–æ: –û—Ç—Ä–∏–º–∞–Ω–æ

üí∞ –°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç–∏: –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–º—ñ–Ω–µ–Ω–æ –Ω–∞ –û–ü–õ–ê–ß–ï–ù–û
üìä Facebook Pixel: Purchase –ø–æ–¥—ñ—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–∞

üë§ –ö–ª—ñ—î–Ω—Ç: –Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ
üìû –¢–µ–ª–µ—Ñ–æ–Ω: +380501234567
üèôÔ∏è –ú—ñ—Å—Ç–æ: –ö–∏—ó–≤
üí∞ –°—É–º–∞: 1599.00 –≥—Ä–Ω

üïê –ß–∞—Å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è: 30.10.2025 14:23

–°—Ç–∞—Ç—É—Å –∑–º—ñ–Ω–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —á–µ—Ä–µ–∑ API –ù–æ–≤–æ—ó –ü–æ—à—Ç–∏
```

---

## ‚úÖ –í–∞–∂–Ω–æ

### –ß—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:

1. ‚úÖ **NOVA_POSHTA_API_KEY** - –∫–ª—é—á API –ù–æ–≤–æ–π –ü–æ—á—Ç—ã (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ .env)
2. ‚úÖ **TELEGRAM_BOT_TOKEN** –∏ **TELEGRAM_ADMIN_ID** - –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
3. ‚úÖ **FACEBOOK_PIXEL_ID** –∏ **FACEBOOK_CONVERSIONS_API_TOKEN** - –¥–ª—è Meta Pixel

### –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º:

- "–æ—Ç—Ä–∏–º–∞–Ω–æ"
- "–ø–æ–ª—É—á–µ–Ω–æ"
- "–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ"
- "–≤—Ä—É—á–µ–Ω–æ"
- "–æ—Ç—Ä–∏–º–∞–Ω–æ –æ—Ç—Ä–∏–º—É–≤–∞—á–µ–º"

---

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Cron –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∑–∞–¥–∞—á–∞ –≤ crontab: `crontab -l`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f logs/nova_poshta_cron.log`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Ñ–∞–π–ª –ª–æ–≥–∞

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Telegram –Ω–∞—Å—Ç—Ä–æ–µ–Ω (TELEGRAM_BOT_TOKEN, TELEGRAM_ADMIN_ID)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏

### Meta Pixel —Å–æ–±—ã—Ç–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Facebook Conversions API –Ω–∞—Å—Ç—Ä–æ–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ FACEBOOK_PIXEL_ID –∏ FACEBOOK_CONVERSIONS_API_TOKEN —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ API

---

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `NOVA_POSHTA_AUTOMATION_SETUP.md`

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 30.10.2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
















# üñºÔ∏è –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–±–ª–µ–º–∞ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

## –î–∞—Ç–∞: 2025-11-20

---

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö —Ç–æ–≤–∞—Ä–æ–≤ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –í–º–µ—Å—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–Ω—ã–µ –∫–≤–∞–¥—Ä–∞—Ç—ã
- –í HTML –≤–∏–¥–Ω—ã –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ Django —Ç–µ–≥–∏ `{% optimized_image ... %}`

---

## üîç –£–≥–ª—É–±–ª–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (Sequential Thinking)

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚úÖ **–î–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ –µ—Å—Ç—å:**
- display_image –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `products/c3.jpg`
- main_image —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –§–∞–π–ª—ã —Ñ–∏–∑–∏—á–µ—Å–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –Ω–∞ –¥–∏—Å–∫–µ

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ Django settings
‚úÖ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ:**
- MEDIA_URL: `/media/`
- MEDIA_ROOT: `/home/qlknpodo/TWC/TwoComms_Site/twocomms/media`
- display_image.url: `/media/products/c3.jpg`

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ templatetag
‚úÖ **–¢–µ–≥ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:**
- `optimized_image` –≤ `register.tags`
- –†–∞–±–æ—Ç–∞–µ—Ç –≤ –∏–∑–æ–ª—è—Ü–∏–∏ - —Ä–µ–Ω–¥–µ—Ä–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π HTML

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ HTML
‚ùå **–¢–µ–≥–∏ –Ω–µ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è:**
```html
<!-- –í HTML –≤–∏–¥–Ω—ã –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Ç–µ–≥–∏: -->
{% optimized_image p.display_image.url p.title "w-100 h-100 object-fit-cover product-main-image" 1080 1350                                                      
    loading='eager' fetchpriority='high' sizes='(max-width: 576px) 90vw, (max-width: 992px) 45vw, (max-width: 1400px)                                               
    30vw, 18vw' %}
```

### –®–∞–≥ 5: –ì–∏–ø–æ—Ç–µ–∑–∞ Fragment Cache
‚ùå **–û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –Ω–µ –ø–æ–º–æ–≥–ª–∞:**
- –û—á–∏—Å—Ç–∏–ª–∏ Django cache (Redis)
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ  
- –£–¥–∞–ª–∏–ª–∏ `.pyc` —Ñ–∞–π–ª—ã
- –ü—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–ª–∞—Å—å

---

## üéØ –ö–û–†–ù–ï–í–ê–Ø –ü–†–ò–ß–ò–ù–ê

### Multiline —Ç–µ–≥ —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º!

–í `product_card.html`:

```django
{% optimized_image p.display_image.url p.title "w-100 h-100 object-fit-cover product-main-image" 1080 1350
    loading='eager' fetchpriority='high' sizes='(max-width: 576px) 90vw, (max-width: 992px) 45vw, (max-width: 1400px)
    30vw, 18vw' %}
```

‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:** 
- –¢–µ–≥ —Ä–∞–∑–±–∏—Ç –Ω–∞ 3 —Å—Ç—Ä–æ–∫–∏
- Django parser –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç multiline —Ç–µ–≥–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- inclusion_tag —Å multiline –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –Ω–µ –ø–∞—Ä—Å–∏—Ç—Å—è

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –ù—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –≤—ã–∑–æ–≤ —Ç–µ–≥–∞ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É:

```django
{% optimized_image p.display_image.url p.title "w-100 h-100 object-fit-cover product-main-image" 1080 1350 loading='eager' fetchpriority='high' sizes='(max-width: 576px) 90vw, (max-width: 992px) 45vw, (max-width: 1400px) 30vw, 18vw' %}
```

–ò–ª–∏ —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ–≥–æ–≤ —Å `{% with %}` –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.

---

## üìù –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. ‚úÖ –ù–∞–π—Ç–∏ –≤—Å–µ multiline —Ç–µ–≥–∏ `{% optimized_image %}` –≤ —à–∞–±–ª–æ–Ω–∞—Ö
2. ‚úÖ –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
4. ‚úÖ –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
5. ‚úÖ –û—á–∏—Å—Ç–∏—Ç—å cache
6. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

---

## –§–∞–π–ª—ã –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

- `twocomms/twocomms_django_theme/templates/partials/product_card.html`
- –í–æ–∑–º–æ–∂–Ω–æ –¥—Ä—É–≥–∏–µ —à–∞–±–ª–æ–Ω—ã —Å `{% optimized_image %}`

---

**–°—Ç–∞—Ç—É—Å:** –í –ø—Ä–æ—Ü–µ—Å—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô  
**–í–ª–∏—è–Ω–∏–µ:** –í–µ—Å—å —Å–∞–π—Ç - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è




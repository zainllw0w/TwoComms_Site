# ๐ ะะพัะฐะณะพะฒะฐั ะธะฝััััะบัะธั: ะะฐัััะพะนะบะฐ CRON ัะตัะตะท cPanel

## ๐ฏ ะฆะตะปั

ะะฐัััะพะธัั ะฐะฒัะพะผะฐัะธัะตัะบัั ะฟัะพะฒะตัะบั ััะฐัััะพะฒ Nova Poshta ะบะฐะถะดัะต 5 ะผะธะฝัั ัะตัะตะท ะธะฝัะตััะตะนั cPanel.

---

## ๐ ะจะะ 1: ะัะพะด ะฒ cPanel

1. ะัะบัะพะนัะต ะฑัะฐัะทะตั ะธ ะฒะพะนะดะธัะต ะฒ **cPanel** ะฒะฐัะตะณะพ ัะพััะธะฝะณะฐ
2. ะะฑััะฝะพ ััะพ: `https://ะฒะฐั-ะดะพะผะตะฝ.com/cpanel` ะธะปะธ `https://195.191.24.169:2083`

---

## ๐ ะจะะ 2: ะะฐะนัะธ ัะฐะทะดะตะป Cron Jobs

### ะะฐัะธะฐะฝั A: ะงะตัะตะท ะฟะพะธัะบ (ัะฐะผัะน ะฟัะพััะพะน)

1. ะ ะฒะตััะฝะตะน ัะฐััะธ cPanel ะฝะฐะนะดะธัะต **ะฟะพะปะต ะฟะพะธัะบะฐ** (Search)
2. ะะฒะตะดะธัะต: **`cron`** ะธะปะธ **`ะทะฐะฟะปะฐะฝะธัะพะฒะฐะฝะฝัะต ะทะฐะดะฐัะธ`**
3. ะะฐะถะผะธัะต ะฝะฐ ะฝะฐะนะดะตะฝะฝัะน ัะตะทัะปััะฐั

### ะะฐัะธะฐะฝั B: ะงะตัะตะท ะผะตะฝั

1. ะะฐะนะดะธัะต ัะฐะทะดะตะป **"ะะพะฟะพะปะฝะธัะตะปัะฝะพ"** ะธะปะธ **"Advanced"**
2. ะะฝัััะธ ะฝะฐะนะดะธัะต **"Cron Jobs"** ะธะปะธ **"ะะฐะฟะปะฐะฝะธัะพะฒะฐะฝะฝัะต ะทะฐะดะฐัะธ"**

### ะะฐัะธะฐะฝั C: ะััะผะฐั ัััะปะบะฐ

ะัะปะธ ั ะฒะฐั ะตััั ะดะพัััะฟ ะบ URL:
```
https://ะฒะฐั-ะดะพะผะตะฝ/cpanel/cron/index.html
```

---

## โ๏ธ ะจะะ 3: ะะพะฑะฐะฒะธัั ะธะปะธ ะธะทะผะตะฝะธัั ะทะฐะดะฐัั

### ะะฐัะธะฐะฝั A: ะัะปะธ ะทะฐะดะฐัะฐ ะฃะะ ัััะตััะฒัะตั

1. ะัะพะบัััะธัะต ัััะฐะฝะธัั ะฒะฝะธะท ะดะพ ัะฐะทะดะตะปะฐ **"ะขะตะบััะธะต ะทะฐะดะฐัะธ Cron"** ะธะปะธ **"Current Cron Jobs"**
2. ะะฐะนะดะธัะต ัััะพะบั ั ัะตะบััะพะผ `update_tracking_statuses`
3. ะะฐะถะผะธัะต ะบะฝะพะฟะบั **"ะะทะผะตะฝะธัั"** (Edit) ััะดะพะผ ั ััะพะน ะทะฐะดะฐัะตะน
4. ะะตัะตะนะดะธัะต ะบ **ะจะะ 4**

### ะะฐัะธะฐะฝั B: ะัะปะธ ะทะฐะดะฐัะธ ะะะข (ัะพะทะดะฐัั ะฝะพะฒัั)

1. ะัะพะบัััะธัะต ัััะฐะฝะธัั ะฒะฝะธะท ะดะพ ัะฐะทะดะตะปะฐ **"ะะพะฑะฐะฒะธัั ะฝะพะฒัั ะทะฐะดะฐัั Cron"** ะธะปะธ **"Add New Cron Job"**
2. ะัะฑะตัะธัะต ะฟะตัะตะบะปััะฐัะตะปั: **"ะกัะฐะฝะดะฐัั (Advanced)"** ะธะปะธ **"Standard (Advanced)"**
   - โ๏ธ **ะะ ะฒัะฑะธัะฐะนัะต "ะัะพััะพะน" (Basic)** - ัะฐะผ ะฝะตั ะฝัะถะฝัั ะฟะพะปะตะน
3. ะะตัะตะนะดะธัะต ะบ **ะจะะ 4**

---

## โ๏ธ ะจะะ 4: ะะฐะฟะพะปะฝะธัั ัะพัะผั

### ะะพะปั ะฒัะตะผะตะฝะธ (ะะฐัะฟะธัะฐะฝะธะต):

ะะฐะฟะพะปะฝะธัะต ัะปะตะดัััะธะต ะฟะพะปั:

| ะะพะปะต | ะะฝะฐัะตะฝะธะต | ะะฑัััะฝะตะฝะธะต |
|------|----------|------------|
| **ะะธะฝััะฐ** | `*/5` | ะะฐะถะดัะต 5 ะผะธะฝัั |
| **ะงะฐั** | `*` | ะะฐะถะดัะน ัะฐั |
| **ะะตะฝั** | `*` | ะะฐะถะดัะน ะดะตะฝั ะผะตัััะฐ |
| **ะะตััั** | `*` | ะะฐะถะดัะน ะผะตััั |
| **ะะตะดะตะปั** | `*` | ะะฐะถะดัะน ะดะตะฝั ะฝะตะดะตะปะธ |

**ะัะพะณะพ ัััะพะบะฐ ัะฐัะฟะธัะฐะฝะธั:** `*/5 * * * *`

### ะะพะปะต ะบะพะผะฐะฝะดั:

ะ ะฟะพะปะต **"ะะพะผะฐะฝะดะฐ"** (Command) ะฒััะฐะฒััะต ัะปะตะดััััั ะบะพะผะฐะฝะดั:

```bash
cd /home/qlknpodo/TWC/TwoComms_Site/twocomms && /home/qlknpodo/virtualenv/TWC/TwoComms_Site/twocomms/3.13/bin/python manage.py update_tracking_statuses >> /home/qlknpodo/TWC/TwoComms_Site/twocomms/logs/nova_poshta_cron.log 2>&1
```

**ะะปะธ ะฑะพะปะตะต ะบะพัะพัะบะธะน ะฒะฐัะธะฐะฝั** (ะตัะปะธ ะฟะตัะฒัะน ะฝะต ัะฐะฑะพัะฐะตั):

```bash
cd /home/qlknpodo/TWC/TwoComms_Site/twocomms && /home/qlknpodo/virtualenv/TWC/TwoComms_Site/twocomms/3.13/bin/python manage.py update_tracking_statuses >> /tmp/nova_poshta.log 2>&1
```

---

## ๐พ ะจะะ 5: ะกะพััะฐะฝะธัั

1. ะัะพะบัััะธัะต ัััะฐะฝะธัั ะฒะฝะธะท
2. ะะฐะถะผะธัะต ะบะฝะพะฟะบั **"ะะพะฑะฐะฒะธัั ะฝะพะฒัั ะทะฐะดะฐัั Cron"** ะธะปะธ **"Add New Cron Job"** 
   - ะะปะธ **"ะกะพััะฐะฝะธัั ะธะทะผะตะฝะตะฝะธั"** / **"Save Changes"** (ะตัะปะธ ัะตะดะฐะบัะธัะพะฒะฐะปะธ ัััะตััะฒััััั)
3. ะะพะปะถะฝะพ ะฟะพัะฒะธัััั ัะพะพะฑัะตะฝะธะต ะพะฑ ััะฟะตัะต: **"Cron job added successfully"** ะธะปะธ ะฟะพะดะพะฑะฝะพะต

---

## โ ะจะะ 6: ะัะพะฒะตัะบะฐ ัะฐะฑะพัั

### ะงะตัะตะท 5-10 ะผะธะฝัั ะฟะพัะปะต ะฝะฐัััะพะนะบะธ:

1. ะะพะดะบะปััะธัะตัั ะบ ัะตัะฒะตัั ะฟะพ SSH (ะธะปะธ ะธัะฟะพะปัะทัะนัะต File Manager ะฒ cPanel)
2. ะัะพะฒะตัััะต ะปะพะณ ัะฐะนะป:

**ะะฐัะธะฐะฝั 1** (ะฟะพะปะฝัะน ะฟััั):
```bash
tail -20 /home/qlknpodo/TWC/TwoComms_Site/twocomms/logs/nova_poshta_cron.log
```

**ะะฐัะธะฐะฝั 2** (ะฒัะตะผะตะฝะฝัะน ัะฐะนะป):
```bash
tail -20 /tmp/nova_poshta.log
```

### ะงัะพ ะดะพะปะถะฝะพ ะฑััั ะฒ ะปะพะณะต:

```
[2025-11-06 00:45:00] ะะฐัะฐะปะพ ะพะฑะฝะพะฒะปะตะฝะธั ััะฐัััะพะฒ...
ะะฐะนะดะตะฝะพ 6 ะทะฐะบะฐะทะพะฒ ั ะขะขะ
[2025-11-06 00:45:05] ะะฑะฝะพะฒะปะตะฝะธะต ะทะฐะฒะตััะตะฝะพ:
  ะัะตะณะพ ะทะฐะบะฐะทะพะฒ ั ะขะขะ: 6
  ะะฑัะฐะฑะพัะฐะฝะพ: 6
  ะะฑะฝะพะฒะปะตะฝะพ ััะฐัััะพะฒ: 0
  ะัะธะฑะพะบ: 0
```

โ ะัะปะธ ะฒะธะดะธัะต ัะฐะบะธะต ะทะฐะฟะธัะธ - **ะฒัั ัะฐะฑะพัะฐะตั!**

---

## ๐ ะะธะทัะฐะปัะฝะพะต ะฟัะตะดััะฐะฒะปะตะฝะธะต ัะพัะผั

ะคะพัะผะฐ ะฒ cPanel ะฒัะณะปัะดะธั ะฟัะธะผะตัะฝะพ ัะฐะบ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะะพะฑะฐะฒะธัั ะฝะพะฒัั ะทะฐะดะฐัั Cron (Add New Cron Job)      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                      โ
โ  โ ะัะพััะพะน (Basic)                                   โ
โ  โ ะกัะฐะฝะดะฐัั (Advanced)  โ ะะซะะะะขะฌ ะญะขะ               โ
โ                                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ ะะธะฝััะฐ:  [*/5          ]                    โ   โ
โ  โ ะงะฐั:     [*            ]                    โ   โ
โ  โ ะะตะฝั:    [*            ]                    โ   โ
โ  โ ะะตััั:   [*            ]                    โ   โ
โ  โ ะะตะดะตะปั:  [*            ]                    โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                      โ
โ  ะะพะผะฐะฝะดะฐ:                                            โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ cd /home/qlknpodo/TWC/TwoComms_Site/...    โ   โ
โ  โ ...manage.py update_tracking_statuses...   โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                      โ
โ  [ะะพะฑะฐะฒะธัั ะฝะพะฒัั ะทะฐะดะฐัั Cron]  โ ะะะะะขะฌ            โ
โ                                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ะงัะพ ะดะตะปะฐะตั ััะฐ ะทะฐะดะฐัะฐ

ะะฐะถะดัะต **5 ะผะธะฝัั** ะฐะฒัะพะผะฐัะธัะตัะบะธ:

1. โ ะัะพะฒะตััะตั ะฒัะต ะทะฐะบะฐะทั ั ะขะขะ ัะตัะตะท API ะะพะฒะพะน ะะพััั
2. โ ะะฑะฝะพะฒะปัะตั ััะฐัััั ะฟะพััะปะพะบ (`shipment_status`)
3. โ ะะพะณะดะฐ ะฟะพััะปะบะฐ ะฟะพะปััะตะฝะฐ โ ะฐะฒัะพะผะฐัะธัะตัะบะธ:
   - ะะตะฝัะตั ััะฐััั ะทะฐะบะฐะทะฐ ะฝะฐ **"ะััะธะผะฐะฝะพ"** (`done`)
   - ะะตะฝัะตั ััะฐััั ะพะฟะปะฐัั ะฝะฐ **"ะะฟะปะฐัะตะฝะพ"** (`paid`)
   - ะัะฟัะฐะฒะปัะตั Purchase ัะพะฑััะธะต ะฒ **Meta Pixel** (Facebook)
   - ะัะฟัะฐะฒะปัะตั ัะฒะตะดะพะผะปะตะฝะธั ะฒ **Telegram** ะฐะดะผะธะฝั ะธ ะบะปะธะตะฝัั

**ะัั ััะพ ะฟัะพะธััะพะดะธั ะะะขะะะะขะะงะะกะะ, ะฑะตะท ะฒะฐัะตะณะพ ััะฐััะธั!**

---

## ๐ ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะัะพะฑะปะตะผะฐ 1: "ะคะฐะนะป ะฝะต ะฝะฐะนะดะตะฝ" ะธะปะธ "Permission denied"

**ะะตัะตะฝะธะต:**
1. ะฃะฑะตะดะธัะตัั ััะพ ะดะธัะตะบัะพัะธั ะดะปั ะปะพะณะพะฒ ัััะตััะฒัะตั:
   ```bash
   mkdir -p /home/qlknpodo/TWC/TwoComms_Site/twocomms/logs
   chmod 755 /home/qlknpodo/TWC/TwoComms_Site/twocomms/logs
   ```

2. ะะปะธ ะธัะฟะพะปัะทัะนัะต ะฒัะตะผะตะฝะฝัะน ะฟััั `/tmp/nova_poshta.log`

### ะัะพะฑะปะตะผะฐ 2: ะะฐะดะฐัะฐ ะฝะต ะทะฐะฟััะบะฐะตััั

**ะัะพะฒะตัััะต:**
1. ะัะฐะฒะธะปัะฝะพััั ะฟััะธ ะบ Python
2. ะัะฐะฒะธะปัะฝะพััั ะฟััะธ ะบ ะฟัะพะตะบัั
3. ะะพะณะธ ะฝะฐ ะฝะฐะปะธัะธะต ะพัะธะฑะพะบ

### ะัะพะฑะปะตะผะฐ 3: "Command not found"

**ะะตัะตะฝะธะต:**
ะัะฟะพะปัะทัะนัะต ะฟะพะปะฝัะน ะฟััั ะบ Python (ะบะฐะบ ะฒ ะบะพะผะฐะฝะดะต ะฒััะต)

---

## ๐ ะะฐััะธััะพะฒะบะฐ ัะฐัะฟะธัะฐะฝะธั

### `*/5 * * * *` ะพะทะฝะฐัะฐะตั:

- **`*/5`** - ะบะฐะถะดัะต 5 ะผะธะฝัั (00, 05, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55)
- **`*`** - ะบะฐะถะดัะน ัะฐั
- **`*`** - ะบะฐะถะดัะน ะดะตะฝั ะผะตัััะฐ
- **`*`** - ะบะฐะถะดัะน ะผะตััั
- **`*`** - ะบะฐะถะดัะน ะดะตะฝั ะฝะตะดะตะปะธ

**ะัะพะณะพ:** ะะพะผะฐะฝะดะฐ ะทะฐะฟััะบะฐะตััั **ะบะฐะถะดัะต 5 ะผะธะฝัั, 24 ัะฐัะฐ ะฒ ัััะบะธ, 7 ะดะฝะตะน ะฒ ะฝะตะดะตะปั**.

### ะััะณะธะต ะฟัะธะผะตัั ัะฐัะฟะธัะฐะฝะธั:

| ะะฐัะฟะธัะฐะฝะธะต | ะะพะณะดะฐ ะทะฐะฟััะบะฐะตััั |
|------------|-------------------|
| `*/5 * * * *` | ะะฐะถะดัะต 5 ะผะธะฝัั |
| `*/15 * * * *` | ะะฐะถะดัะต 15 ะผะธะฝัั |
| `0 * * * *` | ะะฐะถะดัะน ัะฐั (ะฒ :00) |
| `0 0 * * *` | ะะฐะถะดัะน ะดะตะฝั ะฒ ะฟะพะปะฝะพัั |
| `0 0 * * 0` | ะะฐะถะดะพะต ะฒะพัะบัะตัะตะฝัะต ะฒ ะฟะพะปะฝะพัั |

---

## โ ะงะตะบ-ะปะธัั ะฟัะพะฒะตัะบะธ

ะะพัะปะต ะฝะฐัััะพะนะบะธ ัะฑะตะดะธัะตัั:

- [ ] ะะฐะดะฐัะฐ ะดะพะฑะฐะฒะปะตะฝะฐ ะฒ ัะฟะธัะพะบ "ะขะตะบััะธะต ะทะฐะดะฐัะธ Cron"
- [ ] ะะฐัะฟะธัะฐะฝะธะต ัะบะฐะทะฐะฝะพ ะบะฐะบ `*/5 * * * *`
- [ ] ะะพะผะฐะฝะดะฐ ัะบะพะฟะธัะพะฒะฐะฝะฐ ะฟะพะปะฝะพัััั (ั ะฟัััะผะธ)
- [ ] ะัะพัะปะพ 5-10 ะผะธะฝัั ะฟะพัะปะต ัะพััะฐะฝะตะฝะธั
- [ ] ะะพะณ ัะฐะนะป ัะพะดะตัะถะธั ะทะฐะฟะธัะธ ะพะฑ ะพะฑะฝะพะฒะปะตะฝะธัั
- [ ] ะะตั ะพัะธะฑะพะบ ะฒ ะปะพะณะต

---

## ๐ฏ ะัะฐัะบะฐั ะฒะตััะธั (ะดะปั ะฑััััะพะณะพ ะดะพัััะฟะฐ)

1. **cPanel** โ ะะพะธัะบ: `cron`
2. **ะะพะฑะฐะฒะธัั ะฝะพะฒัั ะทะฐะดะฐัั** โ **ะกัะฐะฝะดะฐัั (Advanced)**
3. **ะะฐัะฟะธัะฐะฝะธะต:**
   - ะะธะฝััะฐ: `*/5`
   - ะััะฐะปัะฝัะต: `*`
4. **ะะพะผะฐะฝะดะฐ:** (ัะบะพะฟะธัะพะฒะฐัั ะธะท ะจะะ 4)
5. **ะกะพััะฐะฝะธัั**
6. **ะัะพะฒะตัะธัั ัะตัะตะท 10 ะผะธะฝัั:** `tail -20 /tmp/nova_poshta.log`

---

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะฟะพะผะพัั

ะัะปะธ ััะพ-ัะพ ะฝะต ัะฐะฑะพัะฐะตั:

1. ะัะพะฒะตัััะต ะปะพะณะธ ะฝะฐ ะฝะฐะปะธัะธะต ะพัะธะฑะพะบ
2. ะฃะฑะตะดะธัะตัั ััะพ API ะบะปัั Nova Poshta ะฝะฐัััะพะตะฝ
3. ะัะพะฒะตัััะต ััะพ ะดะธัะตะบัะพัะธั ะฟัะพะตะบัะฐ ัััะตััะฒัะตั
4. ะัะพะฒะตัััะต ะฟัะฐะฒะฐ ะดะพัััะฟะฐ ะบ ัะฐะนะปะฐะผ

**ะััะณะธะต ะธะฝััััะบัะธะธ:**
- `ะะะกะขะะฃะะฆะะฏ_CPANEL_CRON.md` - ะดะตัะฐะปัะฝะฐั ะธะฝััััะบัะธั
- `ะะะ_ะะะะะขะะะข_CRON.md` - ะพะฑัััะฝะตะฝะธะต ะบะฐะบ ัะฐะฑะพัะฐะตั cron
- `ะะซะกะขะะะ_ะะะจะะะะ_CRON.md` - ะฑััััะพะต ัะตัะตะฝะธะต ัะตัะตะท SSH

---

**ะะพัะพะฒะพ!** ะะพัะปะต ะฝะฐัััะพะนะบะธ ัะธััะตะผะฐ ะฑัะดะตั ัะฐะฑะพัะฐัั ะฐะฒัะพะผะฐัะธัะตัะบะธ. ๐






